const audio=document.querySelector(".song audio"),allTracks=document.querySelectorAll(".track"),tracklistLength=allTracks.length,buttonPlay=document.querySelectorAll(".play-pause"),buttonNext=document.querySelectorAll(".next"),buttonPrev=document.querySelectorAll(".prev"),buttonPlayIcon=document.querySelectorAll(".play-pause i"),playButtonHandler=t=>{t.preventDefault(),audio.paused?(audio.play(),buttonPlayIcon.forEach(t=>t.classList.remove("fa-play")),buttonPlayIcon.forEach(t=>t.classList.add("fa-pause"))):(audio.pause(),buttonPlayIcon.forEach(t=>t.classList.add("fa-play")),buttonPlayIcon.forEach(t=>t.classList.remove("fa-pause")))},tracklistHandler=t=>{t.preventDefault();const e=parseInt(t.currentTarget.getAttribute("songId"));playThis(e),allTracks.forEach(t=>t.classList.remove("active")),t.currentTarget.classList.add("active")},nextHandler=t=>{const e=parseInt(document.querySelector(".song").getAttribute("song-id")),a=e+1;playThis(a>tracklistLength?1:a)},prevHandler=t=>{const e=parseInt(document.querySelector(".song").getAttribute("song-id")),a=e-1;playThis(0===a?tracklistLength:a)},playThis=t=>{const e=document.querySelector(".song");let a=document.querySelector(".name"),r=document.querySelector(".artist"),o=document.querySelector(".cover"),c=document.querySelector(".cover-shadow"),n=document.querySelector("audio source");document.querySelector(".song-cover");const l=document.querySelector(`[songId="${t}"]`),s=l.getAttribute("songId"),u=l.getAttribute("songName"),d=l.getAttribute("songArtist"),i=l.getAttribute("songPath"),y=l.getAttribute("songCover");e.setAttribute("song-id",s),a.innerHTML=u,r.innerHTML=d,o.src=y,c.src=y,n.src=i,audio.load(),audio.play(),buttonPlayIcon.forEach(t=>t.classList.remove("fa-play")),buttonPlayIcon.forEach(t=>t.classList.add("fa-pause")),allTracks.forEach(t=>t.classList.remove("active")),allTracks.forEach(t=>{t.getAttribute("songId")===s&&t.classList.add("active")})};buttonPlay.forEach(t=>t.addEventListener("click",playButtonHandler)),buttonNext.forEach(t=>t.addEventListener("click",nextHandler)),buttonPrev.forEach(t=>t.addEventListener("click",prevHandler)),allTracks.forEach(t=>t.addEventListener("click",tracklistHandler));