const audio=document.querySelector(".song audio"),allTracks=document.querySelectorAll(".track"),tracklistLength=allTracks.length,buttonPlay=document.querySelector(".play-pause"),buttonNext=document.querySelector(".next"),buttonPrev=document.querySelector(".prev"),buttonPlayIcon=document.querySelector(".play-pause i"),playButtonHandler=t=>{t.preventDefault(),audio.paused?(audio.play(),buttonPlayIcon.classList.remove("fa-play"),buttonPlayIcon.classList.add("fa-pause")):(audio.pause(),buttonPlayIcon.classList.add("fa-play"),buttonPlayIcon.classList.remove("fa-pause"))},tracklistHandler=t=>{t.preventDefault();const e=parseInt(t.currentTarget.getAttribute("songId"));playThis(e),allTracks.forEach(t=>t.classList.remove("active")),t.currentTarget.classList.add("active")},nextHandler=t=>{const e=parseInt(document.querySelector(".song").getAttribute("song-id")),a=e+1;playThis(a>tracklistLength?1:a)},prevHandler=t=>{const e=parseInt(document.querySelector(".song").getAttribute("song-id")),a=e-1;playThis(0===a?tracklistLength:a)},playThis=t=>{const e=document.querySelector(".song");let a=e.querySelector(".name"),r=e.querySelector(".artist"),o=e.querySelector(".cover"),n=e.querySelector(".cover-shadow"),s=e.querySelector("audio source");e.querySelector(".song-cover");const c=document.querySelector(`[songId="${t}"]`),l=c.getAttribute("songId"),u=c.getAttribute("songName"),i=c.getAttribute("songArtist"),d=c.getAttribute("songPath"),y=c.getAttribute("songCover");e.setAttribute("song-id",l),a.innerHTML=u,r.innerHTML=i,o.src=y,n.src=y,s.src=d,audio.load(),audio.play(),buttonPlayIcon.classList.remove("fa-play"),buttonPlayIcon.classList.add("fa-pause"),allTracks.forEach(t=>t.classList.remove("active")),allTracks.forEach(t=>{t.getAttribute("songId")===l&&t.classList.add("active")})};buttonPlay.addEventListener("click",playButtonHandler),buttonNext.addEventListener("click",nextHandler),buttonPrev.addEventListener("click",prevHandler),allTracks.forEach(t=>t.addEventListener("click",tracklistHandler));